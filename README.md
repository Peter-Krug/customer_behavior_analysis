# Customer Purchase Analysis â€“ PostgreSQL & Power BI

## Project Overview
This project demonstrates an end-to-end data analysis workflow using customer purchase data. The data was sourced from a CSV file, cleaned and prepared, loaded into a PostgreSQL database, analyzed using SQL, and finally visualized in Power BI to generate business insights.

---

## Data Preparation
- Loaded raw customer data from a CSV file
- Cleaned and validated the dataset (data types, missing values, consistency checks)
- Imported the cleaned data into a PostgreSQL database

---

## SQL Analysis (PostgreSQL)

The following business questions were answered using SQL queries:

### 1. Revenue by Gender
Analyzed total revenue generated by male vs. female customers using aggregation and grouping.

### 2. High-Spending Discount Users
Identified customers who applied discounts but still spent more than the average purchase amount using a subquery.

### 3. Top 5 Highest-Rated Products
Calculated average product review ratings and ranked products to find the top five.

### 4. Shipping Type Comparison
Compared average purchase amounts between Standard and Express shipping options.

### 5. Subscription Impact on Spending
Compared subscriber and non-subscriber behavior by analyzing:
- Number of customers
- Average purchase amount
- Total revenue contribution

### 6. Products with Highest Discount Usage
Calculated the percentage of purchases with discounts applied per product to identify the top five.

### 7. Customer Segmentation
Segmented customers into **New**, **Returning**, and **Loyal** groups based on previous purchase counts using a CASE statement and CTE.

### 8. Top 3 Products per Category
Used window functions to identify the top three most purchased products within each category.

### 9. Repeat Buyers vs Subscription Status
Analyzed whether repeat buyers (more than five previous purchases) are more likely to be subscribed.

### 10. Revenue by Age Group
Evaluated total revenue contribution by different customer age groups.

---

## SQL Techniques Used
- Aggregate functions (`SUM`, `AVG`, `COUNT`)
- Subqueries
- `CASE` statements
- Common Table Expressions (CTEs)
- Window functions (`ROW_NUMBER`)
- Data grouping and ordering

---

## Visualization (Power BI)
- Connected PostgreSQL to Power BI
- Built interactive dashboards and charts
- Visualized customer behavior, revenue trends, product performance, and segmentation insights
- Enabled data-driven analysis through filters and slicers

---

## Tools & Technologies
- **PostgreSQL** (SQL analysis)
- **Power BI** (data visualization)
- **CSV** (source data)
- **SQL** (data querying and transformation)

---

## Outcome
This project provides actionable insights into customer purchasing behavior, product performance, discount usage, and revenue drivers, demonstrating practical skills in data cleaning, SQL analytics, and business intelligence reporting.